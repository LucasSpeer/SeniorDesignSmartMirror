<html>
<body style="background: black">

<style>
#greeting
{
	margin: 0px auto; font-size: 80px; color: white; text-align: right;
}
#time
{
	margin: 0px auto; font-size: 80px; color: white; text-align: right;
}
</style>
<script type="text/javascript">
function readTextFile(file,mystring)
{
    var rawFile = new XMLHttpRequest();
    rawFile.open("GET", file, false);
    rawFile.onreadystatechange = function ()
    {
        if(rawFile.readyState === 4)
        {
            if(rawFile.status === 200)
            {
                var allText = rawFile.responseText;
				mystring.contents += allText;
            }
        }
    }
    rawFile.send(null);
}
function Time(config)
{
		var time = document.getElementById("time");
		time.style.textAlign = config.time.alignment;
		var today = new Date();
        //t = setTimeout(startTime, 500);
		var hours = today.getHours();
		var minutes = today.getMinutes();
		if (minutes < 10)
		{
			minutes = "0" + minutes;
		}
		if (config.time.military === false)
		{
			if (hours > 12)
			{
				hours = hours - 12;
			}
		}
		var string;
		if (config.time.military === false)
		{
			string = hours + ":" + minutes;
			if (today.getHours() <= 12)
			{
				string = string + "am";
			}
			else
			{
				string = string + "pm";
			}
		}
		else
		{
			string = hours + minutes;
		}
		if (config.time.display === true)
		{
			time.innerHTML = string;
		}
}
function Greeting(config)
{
	var greeting = document.getElementById("greeting");
	var today = new Date();
	if (config.greeting.display === true)
	{
	if ((today.getHours() < 24) && (today.getHours() > 16))
		{greeting.innerHTML = "Good Evening";}
	if ((today.getHours() < 17) && (today.getHours() > 10))
		{greeting.innerHTML = "Good Afternoon";}
	if (today.getHours() < 11)
		{greeting.innerHTML = "Good Morning";}
	}
	greeting.style.textAlign = config.greeting.alignment;
}

//------------------------------------------------------------------
//Page execution starts here, conside this MAIN();
//------------------------------------------------------------------

window.onload=function() 
{
	var mytext = { contents: ""};
	readTextFile("file:///C:/Users/Isaac/Desktop/Playground/config.json",mytext);
	//If the readfile doesn't work, copy and paste the entire JSON array into var mytext.contents ((mytext.contents = " JSON-JSON-JSON "))
	//then comment out readtextfile();
	var config = JSON.parse(mytext.contents);
	Greeting(config);
	Time(config);
	//elem.style.backgroundColor = config.elem.color;
	//document.getElementById("greeting").style.color = config.greeting.color;
}	
</script>
<p id="greeting"></p>
<p id="time"></p>
</body>
</html> 
