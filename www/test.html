<!DOCTYPE html>
<html>
	<link href="./main.css" rel="stylesheet" type="text/css">
		<head>
			<meta charset="utf-8"/>
     	</head>
	<body>
		<div class="grid">
			<div class="l1">l1</div>
			<div class="r1">r1</div>
			<div class="l2">l2</div>
			<div class="r2">r2</div>
			<div class="l3">l3</div>
			<div class="r3">r3</div>
		</div>
	</body>
	<div class="weatherContainer">
			<p class="temperature mainText"></p>
			<p class="forecast subText"></p>
			<p class ="location subText"></p>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.simpleWeather/3.1.0/jquery.simpleWeather.min.js"></script>
	<script>
		var spots = [".l1",".r1",".l2",".r2",".l3",".r3"];
		
		function readTextFile(file,mystring)
		{
			var rawFile = new XMLHttpRequest();
			rawFile.open("GET", file, false);
			rawFile.onreadystatechange = function ()
			{
				if(rawFile.readyState === 4)
				{
					if(rawFile.status === 200)
					{
						var allText = rawFile.responseText;
						mystring.contents += allText;
					}
				}
			}
			rawFile.send(null);
		}
		function assignSpots(config){
			$(spots[0]).addClass(config.layout.l1);
			$(spots[1]).addClass(config.layout.r1);
			$(spots[2]).addClass(config.layout.l2);
			$(spots[3]).addClass(config.layout.r2);
			$(spots[4]).addClass(config.layout.l3);
			$(spots[5]).addClass(config.layout.r3);
			var weatherSpot = $( ".Weather" );
			weatherSpot.text("");
			weatherSpot.append( $( ".weatherContainer" ));
			var emptySpots = $( ".None" );
			emptySpots.detach();
		}
		$( document ).ready(function () {
			'use strict';
			var mytext = {contents: ""};
			readTextFile("http://localhost/config.json",mytext);
			//var unparsedconfig = '{ "weather":false, "time":true, "greeting":true}';
			var config = JSON.parse(mytext.contents);
			assignSpots(config);
		});
	</script>
	<script src="./test.js"></script>
</html> 

